<%= turbo_frame_tag "cart" do %>
  <% if user_signed_in? %>
    <% if @cart.orderables.present? %>
     
        <%= render "cart/orderables" %>

      <div  class="card mb-2 mt-2">
        <div class="card-body p-2">
          <div class="row d-flex justify-content-between align-items-center">
            <div class="col-md-3 col-lg-2 col-xl-2">
              <h5 class="mb-0">Total : $<%= sprintf('%.2f', @cart.total) %></h5>
            </div>
          
          <div class="col-md-2 text-end"><%= button_to "Pay", checkout_create_path(total:sprintf('%.2f', @cart.total)), class: "btn btn-primary",
          remote: true,
          data: { turbo: "false" } %></div>
          </div>
        </div>
      </div>

    <% else %>
    
      <div  class="card mb-2 mt-2">
        <div class="card-body p-2">
          <div class="row d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Your cart is empty!</h5>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>
<% end %>